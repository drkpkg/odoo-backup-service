#!/usr/bin/make -f

%:
	dh $@

override_dh_auto_build:
	cargo build --release

override_dh_auto_install:
	# Install binary
	install -D -m 755 target/release/odoo-backup-service debian/odoo-backup-service/usr/bin/odoo-backup
	# Install configuration file
	install -D -m 644 config.json.example debian/odoo-backup-service/etc/odoo-backup/config.json
	# Create backup directory
	install -d -m 755 debian/odoo-backup-service/var/backups/odoo
	# Install documentation
	install -D -m 644 README.md debian/odoo-backup-service/usr/share/doc/odoo-backup-service/README.md
	install -D -m 644 INSTALL.md debian/odoo-backup-service/usr/share/doc/odoo-backup-service/INSTALL.md
	install -D -m 644 TESTING.md debian/odoo-backup-service/usr/share/doc/odoo-backup-service/TESTING.md
